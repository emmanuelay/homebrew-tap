# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Domainbadger < Formula
  desc "CLI tool for domain information lookup"
  homepage "https://github.com/emmanuelay/domainbadger"
  version "0.2.1"
  license "MIT"

  depends_on "go" => :build

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/emmanuelay/domainbadger/archive/v0.2.1.tar.gz"
      sha256 "cde63e07f6e54c89ef69933adac36f9da678e93c389907a197b71e3a384e1211"

      def install
        system "go", "build", "-ldflags",
               "-s -w -X main.version=#{version}",
               "-o", bin/"domainbadger",
               "./cmd/domainbadger"
      end
    end
    if Hardware::CPU.arm?
      url "https://github.com/emmanuelay/domainbadger/archive/v0.2.1.tar.gz"
      sha256 "a4f2c1004d18d81fa50fea3972df84242a675d038cda2da9a5e45c8f1213a20b"

      def install
        system "go", "build", "-ldflags",
               "-s -w -X main.version=#{version}",
               "-o", bin/"domainbadger",
               "./cmd/domainbadger"
      end
    end
  end

  on_linux do
    if Hardware::CPU.intel? && Hardware::CPU.is_64_bit?
      url "https://github.com/emmanuelay/domainbadger/archive/v0.2.1.tar.gz"
      sha256 "7e72057cd85332e048ff1ae5f4351d5e90edab6d3da2ca7cb66d238eaa23c448"
      def install
        system "go", "build", "-ldflags",
               "-s -w -X main.version=#{version}",
               "-o", bin/"domainbadger",
               "./cmd/domainbadger"
      end
    end
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/emmanuelay/domainbadger/archive/v0.2.1.tar.gz"
      sha256 "16a14b4448d102e77cede9b997d5a4a781636bc9b29d78c41eb0a433c67bda93"
      def install
        system "go", "build", "-ldflags",
               "-s -w -X main.version=#{version}",
               "-o", bin/"domainbadger",
               "./cmd/domainbadger"
      end
    end
  end

  test do
    assert_match version.to_s, shell_output("#{bin}/domainbadger --version")
  end
end
